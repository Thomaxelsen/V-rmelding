<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arbeidsark for casearbeid med relasjonell koordinering</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .main-title {
            text-align: center;
            color: #333;
            font-size: 1.8em;
            margin-bottom: 30px;
        }
        .page-wrapper {
            display: flex;
            flex-wrap: wrap; /* Allow wrapping if screen is too narrow */
            justify-content: center;
            align-items: flex-start;
            gap: 30px; /* Space between diagram and case box */
            width: 100%;
            max-width: 1350px; /* Max width for the whole setup */
            margin: 0 auto;
        }
        .diagram-container {
            position: relative;
            width: 900px; /* Fixed width for positioning context */
            height: 750px; /* Fixed height for positioning context */
            /* border: 1px dashed #ccc; /* Uncomment for layout debugging */
            flex-shrink: 0; /* Prevent shrinking if page-wrapper uses flex */
        }
        .bubble {
            position: absolute;
            border: 2px solid #007bff;
            background-color: #ffffff;
            padding: 12px 18px;
            border-radius: 60px; /* Oval shape */
            text-align: center;
            min-width: 130px;
            max-width: 180px; /* Max width to control bubble size with long text */
            min-height: 35px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: text;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            font-size: 0.85em;
            line-height: 1.3;
            overflow-wrap: break-word;
            word-break: break-word;
        }
        .bubble[contenteditable="true"]:focus {
            outline: 2px solid #0056b3;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
        }
        .bubble[contenteditable="true"]:empty:before {
            content: "Tekst..."; /* Placeholder for empty bubbles */
            color: #999;
            font-style: italic;
        }
        .central-bubble {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #e6f7ff;
            border-color: #0056b3;
            padding: 20px 30px;
            min-width: 180px;
            max-width: 220px;
            font-size: 0.95em;
            font-weight: bold;
        }

        /*
        Approximate positions based on the image.
        (0,0) is top-left of diagram-container.
        Central bubble is at (450, 375) approx.
        */

        /* Top-left group */
        #bubble1 { top: 200px; left: 130px; } /* Nettverk ifbm. akuttinnskr. */
        #bubble2 { top: 110px; left: 240px; } /* Team/Samarbeidsutv. */
        #bubble3 { top: 60px;  left: 370px; transform: translateX(-50%);} /* Regionens */

        /* Top-center/right group */
        #bubble4 { top: 60px;  left: 530px; transform: translateX(-50%);} /* Regionleder */
        #bubble5 { top: 130px; left: 530px; transform: translateX(-50%);} /* Regionteam (under Regionleder) */

        /* Right side */
        #bubble6 { top: 160px; left: 680px; } /* Samarbeidspartnere */
        #bubble7 { top: 290px; left: 710px; } /* Regionalnettverk */
        #bubble8 { top: 420px; left: 680px; } /* Regionteam (høyre side) */

        /* Bottom group */
        #bubble9  { top: 540px; left: 120px; } /* Nettverk lokalt/kommunalt */
        #bubble10 { top: 620px; left: 250px; transform: translateX(-50%);} /* Region-telen */
        #bubble11 { top: 620px; left: 420px; transform: translateX(-50%);} /* Team møt */
        #bubble12 { top: 540px; left: 560px; } /* Seksjonsledermøt. */


        .case-box-container {
            width: 320px;
            padding: 20px;
            border: 2px solid #28a745;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-top: 0; /* Aligns with top of diagram if enough space */
        }
        .case-box-container h2 {
            margin-top: 0;
            margin-bottom: 15px;
            color: #28a745;
            text-align: center;
            font-size: 1.3em;
        }
        .case-box-content {
            min-height: 150px;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            background-color: #f8f9fa;
            cursor: text;
            font-size: 0.9em;
            line-height: 1.4;
        }
        .case-box-content[contenteditable="true"]:focus {
            outline: 2px solid #1e7e34;
            box-shadow: 0 0 5px rgba(40, 167, 69, 0.5);
        }
        .case-box-content[contenteditable="true"]:empty:before {
            content: "Beskriv case, problemstilling, og skriv ned hva du ønsker å oppnå...";
            color: #999;
            font-style: italic;
        }
    </style>
</head>
<body>

    <h1 class="main-title">Arbeidsark for casearbeid med relasjonell koordinering</h1>

    <div class="page-wrapper">
        <div class="diagram-container">
            <div class="bubble central-bubble" id="centralBubble" contenteditable="true">Mitt team/min enhet/meg</div>

            <div class="bubble" id="bubble1" contenteditable="true">Nettverk ifbm. akuttinnskr.</div>
            <div class="bubble" id="bubble2" contenteditable="true">Team/Samarbeidsutv.</div>
            <div class="bubble" id="bubble3" contenteditable="true">Regionens</div>
            <div class="bubble" id="bubble4" contenteditable="true">Regionleder</div>
            <div class="bubble" id="bubble5" contenteditable="true">Regionteam</div>
            <div class="bubble" id="bubble6" contenteditable="true">Samarbeidspartnere</div>
            <div class="bubble" id="bubble7" contenteditable="true">Regionalnettverk</div>
            <div class="bubble" id="bubble8" contenteditable="true">Regionteam</div>
            <div class="bubble" id="bubble9" contenteditable="true">Nettverk lokalt/kommunalt</div>
            <div class="bubble" id="bubble10" contenteditable="true">Region-telen</div>
            <div class="bubble" id="bubble11" contenteditable="true">Team møt</div>
            <div class="bubble" id="bubble12" contenteditable="true">Seksjonsledermøt.</div>
        </div>

        <div class="case-box-container">
            <h2>Ditt case:</h2>
            <div class="case-box-content" contenteditable="true"></div>
        </div>
    </div>

    <script>
        // Valgfritt: Forhindre liming av rik tekst inn i contenteditable elementer, limer kun som ren tekst.
        document.querySelectorAll('[contenteditable="true"]').forEach(el => {
            el.addEventListener('paste', function(e) {
                e.preventDefault();
                const text = (e.clipboardData || window.clipboardData).getData('text/plain');
                document.execCommand('insertText', false, text);
            });
        });
    </script>

</body>
</html>
